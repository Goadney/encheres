<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" 
      data-th-replace="~{layouts/layout :: layout-encheres(
                          titrePage=~{::title}, 
                          contenuPage=~{::main}, 
                          ressourcesSupp=~{::#ressources-css})}">
<head>
    <title th:text="${utilisateur.pseudo}">Test</title>
</head>

<body>
    <main>
        <div th:if="${error}" class="bg-red-200 text-red-800 p-2 rounded">
            <p th:text="${error}"></p>
        </div>
        <div class="w-4/5 h-4/5 bg-blue-200 flex flex-col justify-center rounded-lg mx-auto my-4 p-8">
            <form th:action="@{/users/profil/modifier}" method="post">
                <div class="flex gap-8">
                    <div>
                        <h2 class="mb-2" th:text="'Pseudo : ' + ${utilisateur.pseudo}">Pseudo</h2>

                        <div class="flex gap-2 mb-2">
                            <label for="prenom">Prénom (*)</label>
                            <input id="prenom" type="text" name="prenom" th:value="${utilisateur.prenom}" />
                        </div>

                        <div class="flex gap-2 mb-2">
                            <label for="phone">Téléphone</label>
                            <input id="phone" type="text" name="telephone" th:value="${utilisateur.telephone}" />
                        </div>
                    </div>

                    <div>
                        <div class="flex gap-2 mb-2">
                            <label for="nom">Nom</label>
                            <input id="nom" type="text" name="nom" th:value="${utilisateur.nom}" />
                        </div>

                        <div class="flex gap-2 mb-2">
                            <label for="email">Email</label>
                            <input id="email" type="text" name="email" th:value="${utilisateur.email}" />
                        </div>
                    </div>
                </div>
                <div class="my-4">
                    <label for="adresseRue">Adresse (*)</label>
                    <input id="adresseRue" type="text" name="adresse.rue" th:value="${utilisateur.adresse.rue}" />
                    <input id="adresseCodePostal" type="text" name="adresse.codePostal" th:value="${utilisateur.adresse.codePostal}" />
                    <input id="adresseVille" type="text" name="adresse.ville" th:value="${utilisateur.adresse.ville}" />
                </div>

                <p>Mon crédit : <span th:text="${utilisateur.credit}"></span></p>
				<p>admin? : <span th:text="${utilisateur.admin}"></span></p>

                    <button type="submit" class="px-4 py-2 rounded-lg border-2 border-blue-800 border-solid hover:bg-blue-800 hover:text-white">
                        Modifier mon profil
                    </button>
                 </form>
                   <div class="flex gap-8 mt-2 justify-center">
                   
                    <a  href="/profil/modifier/password" class="px-4 py-2 rounded-lg border-2 border-blue-800 border-solid hover:bg-blue-800 hover:text-white">Modifier mot de passe</a>
					<form action="/users/profil/supprimer" method="POST" class="inline">
					    <input type="hidden" name="${_csrf.parameterName}" value="${_csrf.token}" />
					    <button type="submit" class="px-4 py-2 rounded-lg border-2 border-blue-800 border-solid hover:bg-blue-800 hover:text-white">
					        Supprimer mon compte
					    </button>
					</form>
                    <a href="/users/profil" class="px-4 py-2 rounded-lg border-2 border-blue-800 border-solid hover:bg-blue-800 hover:text-white">Annuler</a>
                </div>
        </div>
    </main>
</body>
</html>
